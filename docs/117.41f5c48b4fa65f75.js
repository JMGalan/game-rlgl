"use strict";(self.webpackChunkpruebaBBVA=self.webpackChunkpruebaBBVA||[]).push([[117],{6117:(T,l,a)=>{a.r(l),a.d(l,{GameModule:()=>_});var h=a(9808),m=a(2382),r=a(5839),t=a(5e3),u=a(9857);let g=(()=>{class e{constructor(){this.userName="",this.onLogout=new t.vpe}emitLogout(){this.onLogout.emit(!0)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-header-game"]],inputs:{userName:"userName"},outputs:{onLogout:"onLogout"},decls:8,vars:1,consts:[[1,"gameheader-container"],[1,"gameheader-content__username"],[1,"gameheader-content__logout"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right",3,"click"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",2),t.O4$(),t.TgZ(5,"svg",3),t.NdJ("click",function(){return n.emitLogout()}),t._UZ(6,"path",4)(7,"path",5),t.qZA()()()),2&o&&(t.xp6(3),t.Oqu(n.userName))},styles:[".gameheader-container[_ngcontent-%COMP%]{background-color:#444;padding:12px;text-align:center;display:flex;justify-content:space-between}.gameheader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;width:50%}"]}),e})(),p=(()=>{class e{constructor(){this.txtLabel="",this.mode="",this.score=0}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-score"]],inputs:{txtLabel:"txtLabel",mode:"mode",score:"score"},decls:3,vars:2,consts:[[1,"score-container"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"span"),t._uU(2),t.qZA()()),2&o&&(t.xp6(2),t.AsE("",n.txtLabel,": ",n.score,""))},styles:[".score-container[_ngcontent-%COMP%]{margin-top:30px;text-align:center}"]}),e})();function d(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",3),t._UZ(1,"path",4),t.qZA())}function f(e,i){1&e&&(t.O4$(),t.TgZ(0,"svg",5),t._UZ(1,"path",4),t.qZA())}let v=(()=>{class e{constructor(){this.lightState="red"}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-light-bulb"]],inputs:{lightState:"lightState"},decls:4,vars:2,consts:[[1,"light-bulb-container"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","fill","green","class","bi bi-lightbulb","viewBox","0 0 16 16",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","fill","red","class","bi bi-lightbulb","viewBox","0 0 16 16",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","fill","green","viewBox","0 0 16 16",1,"bi","bi-lightbulb"],["d","M2 6a6 6 0 1 1 10.174 4.31c-.203.196-.359.4-.453.619l-.762 1.769A.5.5 0 0 1 10.5 13a.5.5 0 0 1 0 1 .5.5 0 0 1 0 1l-.224.447a1 1 0 0 1-.894.553H6.618a1 1 0 0 1-.894-.553L5.5 15a.5.5 0 0 1 0-1 .5.5 0 0 1 0-1 .5.5 0 0 1-.46-.302l-.761-1.77a1.964 1.964 0 0 0-.453-.618A5.984 5.984 0 0 1 2 6zm6-5a5 5 0 0 0-3.479 8.592c.263.254.514.564.676.941L5.83 12h4.342l.632-1.467c.162-.377.413-.687.676-.941A5 5 0 0 0 8 1z"],["xmlns","http://www.w3.org/2000/svg","width","50","height","50","fill","red","viewBox","0 0 16 16",1,"bi","bi-lightbulb"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,d,2,0,"svg",1),t.YNc(3,f,2,0,"svg",2),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngIf","green"===n.lightState),t.xp6(1),t.Q6J("ngIf","red"===n.lightState))},directives:[h.O5],styles:[".light-bulb-container[_ngcontent-%COMP%]{margin-top:30px;text-align:center}"]}),e})(),C=(()=>{class e{constructor(){this.modeButton="left",this.onBtnClick=new t.vpe}get textButton(){return this.modeButton.toUpperCase()}clickButton(o){this.onBtnClick.emit(o)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-button-game"]],inputs:{modeButton:"modeButton"},outputs:{onBtnClick:"onBtnClick"},decls:4,vars:4,consts:[["type","button",1,"btn","btn-primary","btn-lg",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div")(1,"button",0),t.NdJ("click",function(){return n.clickButton(n.modeButton)}),t._UZ(2,"i"),t._uU(3),t.qZA()()),2&o&&(t.xp6(2),t.Gre("bi bi-arrow-",n.modeButton,"-square text-light"),t.xp6(1),t.hij(" ",n.textButton," "))},encapsulation:2}),e})();const b=[{path:"",component:(()=>{class e{constructor(o,n){this.authServ=o,this.router=n,this.userName="",this.highScore=0,this.score=0,this.lightState="red",this.stepExpected="left",this.userName=this.authServ.userName,this.highScore=this.authServ.highScore,this.score=this.authServ.score}logout(){this.authServ.logout().then(()=>{this.router.navigateByUrl("")})}ngOnInit(){this.gameInit()}gameButtonClick(o){this.checkScores(o),this.changeTimeToRed(),this.changeStepExpected(),this.saveScores()}checkScores(o){"red"===this.lightState?this.score=0:this.stepExpected===o?this.score++:this.score>0&&this.score--,this.highScore<this.score&&(this.highScore=this.score)}changeTimeToRed(){"green"===this.lightState&&this.fncControlGreenLight()}changeStepExpected(){this.stepExpected="left"===this.stepExpected?"right":"left"}saveScores(){this.authServ.saveScores({highscore:this.highScore,score:this.score})}gameInit(){this.lightState="red",this.timeOutToGreen=setTimeout(()=>{this.lightState="green",this.fncControlGreenLight()},3e3)}fncControlGreenLight(){clearTimeout(this.timeOutToRed),this.timeOutToRed=setTimeout(()=>{this.gameInit()},this.getTimeToRed())}getTimeToRed(){return Math.max(1e4-100*this.score,2e3)+this.getRandom(-1500,1500)}getRandom(o,n){return Math.random()*(n-o)+o}ngOnDestroy(){clearTimeout(this.timeOutToGreen),clearTimeout(this.timeOutToRed)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.e),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game"]],decls:8,vars:4,consts:[[1,"container-sm","dvglobalgame"],[3,"userName","onLogout"],["txtLabel","High Score","mode","highScore",3,"score"],[3,"lightState"],["txtLabel","Score","mode","currentScore",3,"score"],[1,"game-buttons-container"],["modeButton","left",3,"onBtnClick"],["modeButton","right",3,"onBtnClick"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"app-header-game",1),t.NdJ("onLogout",function(){return n.logout()}),t.qZA(),t._UZ(2,"app-score",2)(3,"app-light-bulb",3)(4,"app-score",4),t.TgZ(5,"div",5)(6,"app-button-game",6),t.NdJ("onBtnClick",function(c){return n.gameButtonClick(c)}),t.qZA(),t.TgZ(7,"app-button-game",7),t.NdJ("onBtnClick",function(c){return n.gameButtonClick(c)}),t.qZA()()()),2&o&&(t.xp6(1),t.Q6J("userName",n.userName),t.xp6(1),t.Q6J("score",n.highScore),t.xp6(1),t.Q6J("lightState",n.lightState),t.xp6(1),t.Q6J("score",n.score))},directives:[g,p,v,C],styles:[".dvglobalgame[_ngcontent-%COMP%]{padding-left:0;padding-right:0;font-size:25px;height:100vh}.game-buttons-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1}.game-buttons-container[_ngcontent-%COMP%]{margin-top:40px;display:flex;justify-content:space-around}"]}),e})()}];let B=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})();var S=a(4466);let _=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[B,h.ez,S.m,m.UX]]}),e})()}}]);